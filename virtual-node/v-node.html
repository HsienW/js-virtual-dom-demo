<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Virtual Node</title>
    <style>
        .one-style {
            background: blue;
        }

        .two-style {
            background: yellow;
        }

        .three-style {
            background: red;
        }
    </style>
</head>
<body>
<div class="list"></div>
<script src="./v-node.js"></script>
<script src="../diff/diff.js"></script>
<script src="../patch/patch.js"></script>
<script src="../util/util.js"></script>
<script>

    let oldNodeData = {
        type: 'ul',  // Node 標籤名
        props: {  // DOM 的屬性, 用一個 object 其他屬性
            key: 'key-1',
            class: 'list',
        },
        children: [  // Node 的子節點
            {
                type: 'li',
                props: {
                    key: 'li-1',
                    class: 'one-style',
                    value: 'I am li-1',
                    onClick:  () => {
                        console.log(this.value);
                    }
                }
            }
        ]
    };

    let newNodeData = {
        type: 'ul',  // Node 標籤名
        props: {  // DOM 的屬性, 用一個 object 其他屬性
            key: 'key-1',
            class: 'list',
        },
        children: [  // Node 的子節點
            {
                type: 'li',
                props: {
                    key: 'li-1',
                    class: 'two-style',
                    value: 'I am new value li-2',
                    onClick:  () => {
                        console.log(this.value);
                    }
                }
            },
            {
                type: 'li',
                props: {
                    key: 'li-2',
                    class: 'three-style',
                    value: 'I am new value li-3',
                    onClick:  () => {
                        console.log(this.value);
                    }
                }
            }
        ]
    };

    const firstVNode = createVirtualRoot(oldNodeData);
    let initDom = virtualNodeToDOM(firstVNode, null);
    document.body.appendChild(initDom);

   setTimeout(() => {
       let secondVNode = createVirtualRoot(newNodeData);
       let patches = diff(firstVNode, secondVNode);
       renderPatchToDom(patches);
   }, 2000)

</script>
</body>
</html>
